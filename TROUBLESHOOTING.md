# üîß –ë—ä—Ä–∑ Troubleshooting Guide

## –ü—Ä–æ–±–ª–µ–º: –ü–æ–ª—É—á–∞–≤–∞–º "Rate Limit 429" –≥—Ä–µ—à–∫–∞

### –†–µ—à–µ–Ω–∏–µ 1: –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω API –∫–ª—é—á (–ü—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ)
1. –û—Ç–∏–¥–µ—Ç–µ –≤ –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∞
2. –í–∫–ª—é—á–µ—Ç–µ "–ò–∑–ø–æ–ª–∑–≤–∞–π —Å–æ–±—Å—Ç–≤–µ–Ω API –∫–ª—é—á"
3. –í—ä–≤–µ–¥–µ—Ç–µ –≤–∞—à–∏—è OpenAI –∏–ª–∏ Gemini API –∫–ª—é—á
4. –ó–∞–ø–∞–∑–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ

‚è±Ô∏è **–†–µ–∑—É–ª—Ç–∞—Ç:** –í—Ä–µ–º–µ –∑–∞ –∞–Ω–∞–ª–∏–∑ 30-60 —Å–µ–∫. –≤–º–µ—Å—Ç–æ 90-150 —Å–µ–∫.

### –†–µ—à–µ–Ω–∏–µ 2: –ò–∑—á–∞–∫–∞–π—Ç–µ 2-3 –º–∏–Ω—É—Ç–∏
GitHub Spark –∏–º–∞ —Å—Ç—Ä–æ–≥ rate limit. –ò–∑—á–∞–∫–∞–π—Ç–µ –∏ –æ–ø–∏—Ç–∞–π—Ç–µ –æ—Ç–Ω–æ–≤–æ.

---

## –ü—Ä–æ–±–ª–µ–º: AI –º–æ–¥–µ–ª—ä—Ç –Ω–µ —Å–µ —Å–º–µ–Ω—è

### ‚úÖ –û–ø—Ä–∞–≤–µ–Ω–æ –≤—ä–≤ –≤–µ—Ä—Å–∏—è 14!

–ê–∫–æ –≤—Å–µ –æ—â–µ –∏–º–∞—Ç–µ —Ç–æ–∑–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –≤ debug –ª–æ–≥–æ–≤–µ—Ç–µ –∑–∞ —Ä–µ–¥–∞:
   ```
   üîß –†–µ–∂–∏–º: –°–æ–±—Å—Ç–≤–µ–Ω API (openai - gpt-4o)
   ```
2. –ê–∫–æ –≤–∏–∂–¥–∞—Ç–µ "GitHub Spark –≤–≥—Ä–∞–¥–µ–Ω –º–æ–¥–µ–ª", –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ –¥–∞–ª–∏ —Å—Ç–µ:
   - –í–∫–ª—é—á–∏–ª–∏ "–ò–∑–ø–æ–ª–∑–≤–∞–π —Å–æ–±—Å—Ç–≤–µ–Ω API –∫–ª—é—á"
   - –ó–∞–ø–∞–∑–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ
   - –í—ä–≤–µ–ª–∏ –≤–∞–ª–∏–¥–µ–Ω API –∫–ª—é—á

---

## –ü—Ä–æ–±–ª–µ–º: "–ù–µ–≤–∞–ª–∏–¥–µ–Ω JSON –æ—Ç–≥–æ–≤–æ—Ä"

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–µ—à–µ–Ω–∏–µ
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–µ –æ–ø–∏—Ç–≤–∞ –¥–∞ –ø–æ–ø—Ä–∞–≤–∏ JSON –≥—Ä–µ—à–∫–∏.

### –†—ä—á–Ω–æ —Ä–µ—à–µ–Ω–∏–µ
1. –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ "–û–ø–∏—Ç–∞–π –æ—Ç–Ω–æ–≤–æ"
2. –ê–∫–æ –ø—Ä–æ–±–ª–µ–º—ä—Ç –ø—Ä–æ–¥—ä–ª–∂–∞–≤–∞, –æ–ø–∏—Ç–∞–π—Ç–µ –¥—Ä—É–≥ –º–æ–¥–µ–ª:
   - `gpt-4o` ‚Üí `gpt-4o-mini`
   - `gemini-1.5-pro` ‚Üí `gemini-1.5-flash`

---

## –ü—Ä–æ–±–ª–µ–º: –ê–Ω–∞–ª–∏–∑—ä—Ç –æ—Ç–Ω–µ–º–∞ —Ç–≤—ä—Ä–¥–µ –¥—ä–ª–≥–æ –≤—Ä–µ–º–µ

### –û—á–∞–∫–≤–∞–Ω–∏ –≤—Ä–µ–º–µ–Ω–∞
- **GitHub Spark:** 90-150 —Å–µ–∫—É–Ω–¥–∏ (–Ω–æ—Ä–º–∞–ª–Ω–æ)
- **–°–æ–±—Å—Ç–≤–µ–Ω API:** 30-60 —Å–µ–∫—É–Ω–¥–∏

### –ê–∫–æ –æ—Ç–Ω–µ–º–∞ –ø–æ–≤–µ—á–µ:
1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –≤—Ä—ä–∑–∫–∞—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ debug –ª–æ–≥–æ–≤–µ—Ç–µ –∑–∞ –≥—Ä–µ—à–∫–∏
3. –û–ø–∏—Ç–∞–π—Ç–µ –ø–æ-–±—ä—Ä–∑ –º–æ–¥–µ–ª (`gpt-4o-mini` –∏–ª–∏ `gemini-2.0-flash-exp`)

---

## –ü—Ä–æ–±–ª–µ–º: "–ù–µ–≤–∞–ª–∏–¥–µ–Ω API –∫–ª—é—á"

### –ü—Ä–æ–≤–µ—Ä–∫–∏
1. **OpenAI –∫–ª—é—á:**
   - –ó–∞–ø–æ—á–≤–∞ —Å `sk-`
   - –°—ä–∑–¥–∞–¥–µ–Ω –Ω–∞: https://platform.openai.com/api-keys
   - –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –≤ dashboard –¥–∞–ª–∏ –µ –≤–∞–ª–∏–¥–µ–Ω
   - –£–≤–µ—Ä–µ—Ç–µ —Å–µ —á–µ –∏–º–∞—Ç–µ –∫—Ä–µ–¥–∏—Ç

2. **Gemini –∫–ª—é—á:**
   - –ó–∞–ø–æ—á–≤–∞ —Å `AIza`
   - –°—ä–∑–¥–∞–¥–µ–Ω –Ω–∞: https://aistudio.google.com/app/apikey
   - –£–≤–µ—Ä–µ—Ç–µ —Å–µ —á–µ API-—Ç–æ –µ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–æ

3. **–û–±—â–∏:**
   - –ù—è–º–∞ space-–æ–≤–µ –ø—Ä–µ–¥–∏/—Å–ª–µ–¥ –∫–ª—é—á–∞
   - –ö–æ–ø–∏—Ä–∞–Ω –µ –ø—Ä–∞–≤–∏–ª–Ω–æ (—Ü—è–ª–∞—Ç–∞ –¥—ä–ª–∂–∏–Ω–∞)

---

## –ü—Ä–æ–±–ª–µ–º: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –∫—Ä–∞—à–≤–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑

### –°—Ç—ä–ø–∫–∏ –∑–∞ debug
1. –û—Ç–≤–æ—Ä–µ—Ç–µ –±—Ä–∞—É–∑—ä—Ä Console (F12)
2. –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ "–ü–æ–∫–∞–∂–∏ –ª–æ–≥–æ–≤–µ" –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ
3. –ö–æ–ø–∏—Ä–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ —Ä–µ–¥–æ–≤–µ –ø—Ä–µ–¥–∏ –≥—Ä–µ—à–∫–∞—Ç–∞
4. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∑–∞:
   - `error` —Ä–µ–¥–æ–≤–µ
   - Stack trace
   - JSON parse –≥—Ä–µ—à–∫–∏

### –ß–µ—Å—Ç–æ —Å—Ä–µ—â–∞–Ω–∏ –ø—Ä–∏—á–∏–Ω–∏
- –¢–≤—ä—Ä–¥–µ –º–Ω–æ–≥–æ –∑–∞—è–≤–∫–∏ –∑–∞ –∫—Ä–∞—Ç–∫–æ –≤—Ä–µ–º–µ
- –ù–µ–≤–∞–ª–∏–¥–µ–Ω API –∫–ª—é—á
- –ü—Ä–µ–∫–∞–ª–µ–Ω–æ –≥–æ–ª–µ–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–Ω–∞–º–∞–ª–µ—Ç–µ —Ä–∞–∑–º–µ—Ä–∞)
- –ü—Ä–æ–±–ª–µ–º —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –≤—Ä—ä–∑–∫–∞—Ç–∞

---

## –ü—Ä–æ–±–ª–µ–º: –£—á–µ–±–Ω–∏—Ü–∏—Ç–µ –Ω–µ –ø–æ–¥–æ–±—Ä—è–≤–∞—Ç –∞–Ω–∞–ª–∏–∑–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∏
1. –£—á–µ–±–Ω–∏—Ü–∏—Ç–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–∞ –Ω–∞ –±—ä–ª–≥–∞—Ä—Å–∫–∏ –∏–ª–∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏
2. –°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ –µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ –∫—ä–º –∏—Ä–∏–¥–æ–ª–æ–≥–∏—è—Ç–∞
3. –ü—ä—Ä–≤–∏—Ç–µ 2000 —Å–∏–º–≤–æ–ª–∞ –æ—Ç –≤—Å–µ–∫–∏ —É—á–µ–±–Ω–∏–∫ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞—Ç

### –ü—Ä–µ–ø–æ—Ä—ä–∫–∏ –∑–∞ —É—á–µ–±–Ω–∏—Ü–∏
- –î–æ–±–∞–≤–µ—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∑–æ–Ω–∏ (12-—á–∞—Å–æ–≤ —Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç)
- –í–∫–ª—é—á–µ—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ —Ç–∏–ø–∏—á–Ω–∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏
- –û–ø–∏—à–µ—Ç–µ –≤—Ä—ä–∑–∫–∏ –º–µ–∂–¥—É –∑–æ–Ω–∏ –∏ –æ—Ä–≥–∞–Ω–∏
- –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —è—Å–µ–Ω, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω —Ç–µ–∫—Å—Ç

---

## Debug Checklist

–ü—Ä–µ–¥–∏ –¥–∞ —Å—ä–æ–±—â–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º, –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ:

- [ ] –í–∫–ª—é—á–µ–Ω –ª–∏ –µ "–ü–æ–∫–∞–∂–∏ –ª–æ–≥–æ–≤–µ"?
- [ ] –ò–º–∞ –ª–∏ `error` —Ä–µ–¥–æ–≤–µ –≤ –ª–æ–≥–æ–≤–µ—Ç–µ?
- [ ] –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ –µ –ø—Ä–∞–≤–∏–ª–Ω–∞—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∞?
- [ ] –í–∞–ª–∏–¥–µ–Ω –ª–∏ –µ API –∫–ª—é—á—ä—Ç (–∞–∫–æ —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞)?
- [ ] –î–æ—Å—Ç–∞—Ç—ä—á–Ω–æ –ª–∏ –≤—Ä–µ–º–µ –µ –∏–∑–º–∏–Ω–∞–ª–æ —Å–ª–µ–¥ –ø–æ—Å–ª–µ–¥–Ω–∞—Ç–∞ –≥—Ä–µ—à–∫–∞?
- [ ] –†–∞–±–æ—Ç–∏ –ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –≤—Ä—ä–∑–∫–∞—Ç–∞ –Ω–æ—Ä–º–∞–ª–Ω–æ?

---

## –ü–æ–ª–µ–∑–Ω–∏ –∫–æ–º–∞–Ω–¥–∏ –≤ Console

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—ä—Ö—Ä–∞–Ω–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```javascript
window.spark.kv.get('ai-model-config').then(config => console.log(config))
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—á–µ–±–Ω–∏—Ü–∏
```javascript
window.spark.kv.get('iridology-textbooks').then(books => console.log(books))
```

### –ò–∑—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞
```javascript
window.spark.kv.delete('ai-model-config')
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏—Å—Ç–æ—Ä–∏—è
```javascript
window.spark.kv.get('analysis-history').then(history => console.log(history))
```

---

## –ö–æ–≥–∞ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –∫–æ–π –º–æ–¥–µ–ª

### –†–∞–∑–≤–∏—Ç–∏–µ –∏ —Ç–µ—Å—Ç–≤–∞–Ω–µ
- ‚úÖ `gpt-4o-mini` - –ë—ä—Ä–∑, –µ–≤—Ç–∏–Ω, –¥–æ–±—ä—Ä –∑–∞ —Ç–µ—Å—Ç–≤–∞–Ω–µ
- ‚úÖ `gemini-1.5-flash` - –ë–µ–∑–ø–ª–∞—Ç–µ–Ω, –±—ä—Ä–∑

### –ü—Ä–æ–¥—É–∫—Ü–∏—è
- ‚úÖ `gpt-4o` - –ù–∞–π-–¥–æ–±—Ä–æ –∫–∞—á–µ—Å—Ç–≤–æ, –±–∞–ª–∞–Ω—Å–∏—Ä–∞–Ω
- ‚úÖ `gemini-1.5-pro` - –û—Ç–ª–∏—á–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ, –ø–æ-–µ–≤—Ç–∏–Ω

### –ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–∞–Ω–µ
- ‚úÖ `gemini-2.0-flash-exp` - –ù–∞–π-–Ω–æ–≤, –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª–µ–Ω

### –ë—é–¥–∂–µ—Ç
- ‚úÖ GitHub Spark (–±–µ–∑–ø–ª–∞—Ç–µ–Ω, –Ω–æ –±–∞–≤–µ–Ω)
- ‚úÖ Gemini (—â–µ–¥—ä—Ä –±–µ–∑–ø–ª–∞—Ç–µ–Ω –ø–ª–∞–Ω)
- ‚ö†Ô∏è OpenAI (pay-per-use)

---

## –ö–æ–Ω—Ç–∞–∫—Ç–∏ –∏ –ü–æ–¥–¥—Ä—ä–∂–∫–∞

–ó–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏ –≤—ä–ø—Ä–æ—Å–∏:
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ [AI_CONFIGURATION_GUIDE.md](./AI_CONFIGURATION_GUIDE.md)
- –ü—Ä–µ–≥–ª–µ–¥–∞–π—Ç–µ [CHANGELOG_v14.md](./CHANGELOG_v14.md)
- –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ debug –ª–æ–≥–æ–≤–µ—Ç–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ

---

**–ü–æ—Å–ª–µ–¥–Ω–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è:** –í–µ—Ä—Å–∏—è 14
**–°—Ç–∞—Ç—É—Å:** Production Ready
